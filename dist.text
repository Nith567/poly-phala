(()=>{"use strict";var t={730:(t,e)=>{}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(()=>{r(730);function t(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function e(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const n={number:t,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:e,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");t(e.outputLen),t(e.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,r){e(t);const n=r.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},s=n,i=BigInt(2**32-1),o=BigInt(32);function a(t,e=!1){return e?{h:Number(t&i),l:Number(t>>o&i)}:{h:0|Number(t>>o&i),l:0|Number(t&i)}}const u={fromBig:a,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=a(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]},toBig:(t,e)=>BigInt(t>>>0)<<o|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:0|s}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,add5H:(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,add5L:(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0)};"object"==typeof self&&"crypto"in self&&self.crypto;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function c(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class l{clone(){return this._cloneInto()}}const[f,h,d]=[[],[],[]],p=BigInt(0),g=BigInt(1),y=BigInt(2),w=BigInt(7),b=BigInt(256),m=BigInt(113);for(let t=0,e=g,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],f.push(2*(5*n+r)),h.push((t+1)*(t+2)/2%64);let s=p;for(let t=0;t<7;t++)e=(e<<g^(e>>w)*m)%b,e&y&&(s^=g<<(g<<BigInt(t))-g);d.push(s)}const[E,v]=u.split(d,!0),I=(t,e,r)=>r>32?u.rotlBH(t,e,r):u.rotlSH(t,e,r),N=(t,e,r)=>r>32?u.rotlBL(t,e,r):u.rotlSL(t,e,r);class U extends l{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=I(i,o,1)^r[n],u=N(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=h[r],i=I(e,s,n),o=N(e,s,n),a=f[r];e=t[a],s=t[a+1],t[a]=i,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=E[n],t[1]^=v[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){s.exists(this);const{blockLen:e,state:r}=this,n=(t=c(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){s.exists(this,!1),s.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return s.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(s.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new U(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const x=(t,e,r)=>function(t){const e=e=>t().update(c(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new U(e,t,r))),A=(x(6,144,28),x(6,136,32),x(6,104,48),x(6,72,64),x(1,144,28),x(1,136,32)),L=(x(1,104,48),x(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(c(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((n={})=>new U(e,t,void 0===n.dkLen?r:n.dkLen,!0)))),B=(L(31,168,16),L(31,136,32),"6.6.3");function O(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}function T(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&O(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function R(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(R).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return R(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${R(e)}: ${R(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function _(t,e){return t&&t.code===e}function F(t,e,r,n){if(!t)throw function(t,e,r){{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${R(r)}`);for(const t in r){const e=r[t];n.push(t+"="+R(e))}}n.push(`code=${e}`),n.push(`version=${B}`),n.length&&(t+=" ("+n.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return T(n,{code:e}),r&&Object.assign(n,r),n}(e,r,n)}function S(t,e,r,n){F(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}const k=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function $(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}S(!1,"invalid BytesLike value",e||"value",t)}function C(t,e){return $(t,e,!1)}function V(t,e){return $(t,e,!0)}const j="0123456789abcdef";function D(t){const e=C(t);let r="0x";for(let t=0;t<e.length;t++){const n=e[t];r+=j[(240&n)>>4]+j[15&n]}return r}function z(t){return"0x"+t.map((t=>D(t).substring(2))).join("")}let M=!1;const P=function(t){return A(t)};let G=P;function H(t){const e=C(t,"data");return D(G(e))}H._=P,H.lock=function(){M=!0},H.register=function(t){if(M)throw new TypeError("keccak256 is locked");G=t},Object.freeze(H);const X=BigInt(0),q=BigInt(36);function W(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=C(H(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const J={};for(let t=0;t<10;t++)J[String(t)]=String(t);for(let t=0;t<26;t++)J[String.fromCharCode(65+t)]=String(10+t);const K=15;function Z(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>J[t])).join("");for(;e.length>=K;){let t=e.substring(0,K);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Q=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function Y(t){if(S("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=W(t);return S(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){S(t.substring(2,4)===Z(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=X;for(let r=0;r<t.length;r++)e=e*q+Q[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return W("0x"+e)}S(!1,"invalid address","address",t)}const tt=BigInt(0),et=BigInt(1),rt=9007199254740991;function nt(t,e){const r=it(t,"value"),n=BigInt(ut(e,"bits"));return r&(et<<n)-et}function st(t,e){switch(typeof t){case"bigint":return t;case"number":return S(Number.isInteger(t),"underflow",e||"value",t),S(t>=-rt&&t<=rt,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){S(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}S(!1,"invalid BigNumberish value",e||"value",t)}function it(t,e){const r=st(t,e);return F(r>=tt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const ot="0123456789abcdef";function at(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=ot[r>>4],e+=ot[15&r];return BigInt(e)}return st(t)}function ut(t,e){switch(typeof t){case"bigint":return S(t>=-rt&&t<=rt,"overflow",e||"value",t),Number(t);case"number":return S(Number.isInteger(t),"underflow",e||"value",t),S(t>=-rt&&t<=rt,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return ut(BigInt(t),e)}catch(r){S(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}S(!1,"invalid numeric value",e||"value",t)}function ct(t){const e=it(t,"value");if(e===tt)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}const lt={};function ft(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new pt(lt,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function ht(t,e){return new pt(lt,`bytes${e||""}`,t,{size:e})}const dt=Symbol.for("_ethers_typed");class pt{type;value;#t;_typedSymbol;constructor(t,e,r,n){null==n&&(n=null),function(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),F(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}(lt,t,"Typed"),T(this,{_typedSymbol:dt,type:e,value:r}),this.#t=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#t}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#t?-1:!1===this.#t?this.value.length:null}static from(t,e){return new pt(lt,t,e)}static uint8(t){return ft(t,8)}static uint16(t){return ft(t,16)}static uint24(t){return ft(t,24)}static uint32(t){return ft(t,32)}static uint40(t){return ft(t,40)}static uint48(t){return ft(t,48)}static uint56(t){return ft(t,56)}static uint64(t){return ft(t,64)}static uint72(t){return ft(t,72)}static uint80(t){return ft(t,80)}static uint88(t){return ft(t,88)}static uint96(t){return ft(t,96)}static uint104(t){return ft(t,104)}static uint112(t){return ft(t,112)}static uint120(t){return ft(t,120)}static uint128(t){return ft(t,128)}static uint136(t){return ft(t,136)}static uint144(t){return ft(t,144)}static uint152(t){return ft(t,152)}static uint160(t){return ft(t,160)}static uint168(t){return ft(t,168)}static uint176(t){return ft(t,176)}static uint184(t){return ft(t,184)}static uint192(t){return ft(t,192)}static uint200(t){return ft(t,200)}static uint208(t){return ft(t,208)}static uint216(t){return ft(t,216)}static uint224(t){return ft(t,224)}static uint232(t){return ft(t,232)}static uint240(t){return ft(t,240)}static uint248(t){return ft(t,248)}static uint256(t){return ft(t,256)}static uint(t){return ft(t,256)}static int8(t){return ft(t,-8)}static int16(t){return ft(t,-16)}static int24(t){return ft(t,-24)}static int32(t){return ft(t,-32)}static int40(t){return ft(t,-40)}static int48(t){return ft(t,-48)}static int56(t){return ft(t,-56)}static int64(t){return ft(t,-64)}static int72(t){return ft(t,-72)}static int80(t){return ft(t,-80)}static int88(t){return ft(t,-88)}static int96(t){return ft(t,-96)}static int104(t){return ft(t,-104)}static int112(t){return ft(t,-112)}static int120(t){return ft(t,-120)}static int128(t){return ft(t,-128)}static int136(t){return ft(t,-136)}static int144(t){return ft(t,-144)}static int152(t){return ft(t,-152)}static int160(t){return ft(t,-160)}static int168(t){return ft(t,-168)}static int176(t){return ft(t,-176)}static int184(t){return ft(t,-184)}static int192(t){return ft(t,-192)}static int200(t){return ft(t,-200)}static int208(t){return ft(t,-208)}static int216(t){return ft(t,-216)}static int224(t){return ft(t,-224)}static int232(t){return ft(t,-232)}static int240(t){return ft(t,-240)}static int248(t){return ft(t,-248)}static int256(t){return ft(t,-256)}static int(t){return ft(t,-256)}static bytes1(t){return ht(t,1)}static bytes2(t){return ht(t,2)}static bytes3(t){return ht(t,3)}static bytes4(t){return ht(t,4)}static bytes5(t){return ht(t,5)}static bytes6(t){return ht(t,6)}static bytes7(t){return ht(t,7)}static bytes8(t){return ht(t,8)}static bytes9(t){return ht(t,9)}static bytes10(t){return ht(t,10)}static bytes11(t){return ht(t,11)}static bytes12(t){return ht(t,12)}static bytes13(t){return ht(t,13)}static bytes14(t){return ht(t,14)}static bytes15(t){return ht(t,15)}static bytes16(t){return ht(t,16)}static bytes17(t){return ht(t,17)}static bytes18(t){return ht(t,18)}static bytes19(t){return ht(t,19)}static bytes20(t){return ht(t,20)}static bytes21(t){return ht(t,21)}static bytes22(t){return ht(t,22)}static bytes23(t){return ht(t,23)}static bytes24(t){return ht(t,24)}static bytes25(t){return ht(t,25)}static bytes26(t){return ht(t,26)}static bytes27(t){return ht(t,27)}static bytes28(t){return ht(t,28)}static bytes29(t){return ht(t,29)}static bytes30(t){return ht(t,30)}static bytes31(t){return ht(t,31)}static bytes32(t){return ht(t,32)}static address(t){return new pt(lt,"address",t)}static bool(t){return new pt(lt,"bool",!!t)}static bytes(t){return new pt(lt,"bytes",t)}static string(t){return new pt(lt,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new pt(lt,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===dt}static dereference(t,e){if(pt.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}const gt=32,yt=new Uint8Array(gt),wt=["then"],bt={};function mt(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class Et extends Array{#e;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),s=!0;e!==bt&&(r=t,n=[],s=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=n.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#e=Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===i.get(r)?r:null}))),s)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=ut(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=t[r];return n instanceof Error&&mt(`index ${r}`,n),n}if(wt.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&mt(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#e.reduce(((t,e,r)=>(F(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],n=[];for(let s=t;s<e;s++)r.push(this[s]),n.push(this.#e[s]);return new Et(bt,r,n)}filter(t,e){const r=[],n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&mt(`index ${s}`,i),t.call(e,i,s,this)&&(r.push(i),n.push(this.#e[s]))}return new Et(bt,r,n)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const s=this[n];s instanceof Error&&mt(`index ${n}`,s),r.push(t.call(e,s,n,this))}return r}getValue(t){const e=this.#e.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&mt(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new Et(bt,t,e)}}function vt(t){let e=ct(t);return F(e.length<=gt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:gt,offset:e.length}),e.length!==gt&&(e=V(z([yt.slice(e.length%gt),e]))),e}class It{name;type;localName;dynamic;constructor(t,e,r,n){T(this,{name:t,type:e,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){S(!1,t,this.localName,e)}}class Nt{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return z(this.#r)}get length(){return this.#n}#s(t){return this.#r.push(t),this.#n+=t.length,t.length}appendWriter(t){return this.#s(V(t.data))}writeBytes(t){let e=V(t);const r=e.length%gt;return r&&(e=V(z([e,yt.slice(r)]))),this.#s(e)}writeValue(t){return this.#s(vt(t))}writeUpdatableValue(){const t=this.#r.length;return this.#r.push(yt),this.#n+=gt,e=>{this.#r[t]=vt(e)}}}class Ut{allowLoose;#r;#i;constructor(t,e){T(this,{allowLoose:!!e}),this.#r=V(t),this.#i=0}get data(){return D(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#r)}#o(t,e,r){let n=Math.ceil(e/gt)*gt;return this.#i+n>this.#r.length&&(this.allowLoose&&r&&this.#i+e<=this.#r.length?n=e:F(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:V(this.#r),length:this.#r.length,offset:this.#i+n})),this.#r.slice(this.#i,this.#i+n)}subReader(t){return new Ut(this.#r.slice(this.#i+t),this.allowLoose)}readBytes(t,e){let r=this.#o(0,t,!!e);return this.#i+=r.length,r.slice(0,t)}readValue(){return at(this.readBytes(gt))}readIndex(){return ut(at(this.readBytes(gt)))}}class xt extends It{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function At(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return F(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),F(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else S(!1,"invalid tuple value","tuple",r);S(e.length===n.length,"types/value length mismatch","tuple",r);let s=new Nt,i=new Nt,o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=i.length;t.encode(i,r);let n=s.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(s,r)})),o.forEach((t=>{t(s.length)}));let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function Lt(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readIndex(),n=s.subReader(r);try{i=e.decode(n)}catch(t){if(_(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(_(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error("investigate");r.push(i),n.push(e.localName||null)})),Et.fromItems(r,n)}class Bt extends It{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),T(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=pt.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,t.writeValue(r.length)),function(t,e,r){null==r&&(r=""),r&&(r=": "+r),F(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),F(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let t=0;t<r.length;t++)s.push(this.coder);return At(t,s,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),F(e*gt<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*gt,length:t.dataLength}));let r=[];for(let t=0;t<e;t++)r.push(new xt(this.coder));return Lt(t,r)}}const Ot=BigInt(0),Tt=BigInt(1),Rt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class _t extends It{size;signed;constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),T(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=st(pt.dereference(e,this.type)),n=nt(Rt,256);if(this.signed){let t=nt(n,8*this.size-1);(r>t||r<-(t+Tt))&&this._throwError("value out-of-bounds",e),r=function(t,e){let r=st(t,"value");const n=BigInt(ut(e,"width")),s=et<<n-et;if(r<tt)return r=-r,F(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),(~r&(et<<n)-et)+et;return F(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}(r,256)}else(r<Ot||r>nt(n,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=nt(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const r=it(t,"value"),n=BigInt(ut(e,"width"));if(F(r>>n===tt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-et)return-((~r&(et<<n)-et)+et);return r}(e,8*this.size)),e}}function Ft(t,e,r,n,s){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const St=Object.freeze({error:function(t,e,r,n,s){S(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Ft,replace:function(t,e,r,n,s){return"OVERLONG"===t?(S("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Ft(t,e,r))}});function kt(t,e){null==e&&(e=St.error);const r=C(t,"bytes"),n=[];let s=0;for(;s<r.length;){const t=r[s++];if(t>>7==0){n.push(t);continue}let i=null,o=null;if(192==(224&t))i=1,o=127;else if(224==(240&t))i=2,o=2047;else{if(240!=(248&t)){s+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,r,n);continue}i=3,o=65535}if(s-1+i>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let a=t&(1<<8-i-1)-1;for(let t=0;t<i;t++){let t=r[s];if(128!=(192&t)){s+=e("MISSING_CONTINUE",s,r,n),a=null;break}a=a<<6|63&t,s++}null!==a&&(a>1114111?s+=e("OUT_OF_RANGE",s-1-i,r,n,a):a>=55296&&a<=57343?s+=e("UTF16_SURROGATE",s-1-i,r,n,a):a<=o?s+=e("OVERLONG",s-1-i,r,n,a):n.push(a))}return n}function $t(t,e){null!=e&&(!function(t){F(k.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const s=t.charCodeAt(e);S(e<t.length&&56320==(64512&s),"invalid surrogate pair","str",t);const i=65536+((1023&n)<<10)+(1023&s);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function Ct(t,e){return kt(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class Vt extends It{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=V(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class jt extends It{coders;constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),T(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===e[s]&&("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[n]))})),Object.freeze(t)}encode(t,e){const r=pt.dereference(e,"tuple");return At(t,this.coders,r)}decode(t){return Lt(t,this.coders)}}const Dt=new class extends It{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=pt.dereference(e,"string");try{r=Y(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return Y(function(t,e){let r=it(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const n=ut(e,"width");for(F(2*n>=r.length,`value exceeds width (${n} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}(t.readValue(),20))}}("address"),zt=(new Bt(Dt,32,"address"),new _t(32,!1,"uint256")),Mt=new _t(256,!1,"uint256"),Pt=new class extends It{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),T(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=V(pt.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return D(t.readBytes(this.size))}}(32,"bytes"),Gt=(new class extends Vt{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,$t(pt.dereference(e,"string")))}decode(t){return Ct(super.decode(t))}}("string"),new _t(32,!1,"uint32"),new Bt(Pt,32,"bytes"));function Ht(t){return function(t,e){const r=new jt(t,"_"),n=new Nt;return r.encode(n,e),n.data}([zt,zt,Gt,zt,Pt,Pt,zt,Dt,zt,Dt,Mt,Pt],t)}var Xt;!function(t){t.BadLensProfileId="BadLensProfileId",t.FailedToFetchData="FailedToFetchData",t.FailedToDecode="FailedToDecode",t.MalformedRequest="MalformedRequest",t.BadRequestString="BadRequestString"}(Xt||(Xt={})),globalThis.scriptOutput=function(t,e){let r,n;console.log(`handle reqs are : ${t}`);try{[r,n]=(s=t,new jt([zt,Dt],"_").decode(new Ut(s,i))),console.log("bitch "+n)}catch(t){console.info("Malformed request received")}var s,i;console.log();const o=function(t){const e=t.startsWith("0x")?t.slice(2):t;return/^[0-9A-Fa-f]*$/.test(e)||console.log("Invalid hex string"),"0x"+e.slice(-40)}(n);console.log(`Request received  ${o}`),console.log("");try{console.info("try here ");const t=function(t,e){const r=`${t}${e}`,n=pink.httpRequest({url:r,method:"GET",headers:{"Content-Type":"application/json","User-Agent":"phat-contract"},returnTextBody:!0});if(200!==n.statusCode)throw console.log(`wrong 200: ${n.statusCode}, error: ${n.body}}`),Xt.FailedToFetchData;console.info(n);let s=n.body;if("string"!=typeof s)throw Xt.FailedToDecode;return JSON.parse(s)}(e,o);let n=t.deposits[0].deposit_cnt,s=t.deposits[0].network_id,i=t.deposits[0].orig_net,a=t.deposits[0].orig_addr,u=t.deposits[0].dest_net,c=t.deposits[0].dest_addr,l=t.deposits[0].amount,f=t.deposits[0].metadata;const h=function(t,e){const r=`https://bridge-api.public.zkevm-test.net/merkle-proof?deposit_cnt=${t}&net_id=${e}`,n=pink.httpRequest({url:r,method:"GET",headers:{"Content-Type":"application/json","User-Agent":"phat-contract"},returnTextBody:!0});if(200!==n.statusCode)throw console.log(`wrong 200: ${n.statusCode}, error: ${n.body}}`),Xt.FailedToFetchData;console.info(n);let s=n.body;if("string"!=typeof s)throw Xt.FailedToDecode;return JSON.parse(s)}(n,s);let d=h.proof.main_exit_root,p=h.proof.rollup_exit_root,g=h.proof.merkle_proof;return console.info("makki : ",[n]),Ht([0,r,g,n,d,p,i,a,u,c,l,f])}catch(t){if(t===Xt.FailedToFetchData)throw t;return console.log("errors",[2,r,"0x00000000000000000000000000000000000000000000000000000000000002b8"]),Ht([342,234,"0x123456789abcdef","sldkfj","0xsdlfjlsdkfj","sdf","sdf","sdf","dsf","sd","2es","sd"])}}.apply(null,globalThis.scriptArgs)})()})();